<?xml version="1.0" encoding="utf-8"?>
<search>
  
  
  
  <entry>
    <title>使用docker自定义python爬虫镜像</title>
    <link href="/posts/%E4%BD%BF%E7%94%A8docker%E8%87%AA%E5%AE%9A%E4%B9%89python%E7%88%AC%E8%99%AB%E9%95%9C%E5%83%8F/"/>
    <url>/posts/%E4%BD%BF%E7%94%A8docker%E8%87%AA%E5%AE%9A%E4%B9%89python%E7%88%AC%E8%99%AB%E9%95%9C%E5%83%8F/</url>
    
    <content type="html"><![CDATA[<h2 id="简介"><a href="#简介" class="headerlink" title="简介"></a>简介</h2><p>使用docker的自定义镜像做一个专用于python爬虫环境的镜像，并在pycharm中通过on docker环境使用。</p><blockquote><p>此镜像的依赖requirements.txt都是我平常使用的python虚拟环境中导出而来。</p></blockquote><h2 id="自定义镜像步骤"><a href="#自定义镜像步骤" class="headerlink" title="自定义镜像步骤"></a>自定义镜像步骤</h2><p>我本地的目录结构：</p><figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs stylus">E:/MyDockerImages/SpiderProject/<br>├── Dockerfile<br>├── requirements<span class="hljs-selector-class">.txt</span><br>├── entrypoint<span class="hljs-selector-class">.sh</span><br>└── hello<span class="hljs-selector-class">.py</span><br><br></code></pre></td></tr></table></figure><p>所有文件我已上传到我的<a href="https://github.com/redballoom/my-dockerfile">Github</a>和<a href="https://gitee.com/redballoon/my-dockerfile">Gitee</a>需要的自行下载</p><ol><li>准备好<code>Dockerfile</code>文件后，执行命令构建镜像，确保你在当前文件的<code>SpiderProject</code>位置。</li></ol><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs shell">docker build -t pyspider .<br></code></pre></td></tr></table></figure><ol start="2"><li>验证镜像是否存在</li></ol><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs shell">docker images<br></code></pre></td></tr></table></figure><ol start="3"><li>运行容器</li></ol><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs shell">docker run --name spider-project -p 8000:8000 -v E:/MyDockerImages/SpiderProject:/app pyspider:latest<br></code></pre></td></tr></table></figure><p>到此就没问题了，如果想进入容器就执行</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs shell">docker exec -it spider-project sh<br></code></pre></td></tr></table></figure><p>可以输入 <code>exit</code> 命令来退出容器 shell，或者关闭终端窗口。</p><h2 id="在pycharm中使用docker"><a href="#在pycharm中使用docker" class="headerlink" title="在pycharm中使用docker"></a>在pycharm中使用docker</h2><p>点击file -&gt; settings -&gt; Project: <project name> -&gt; Python Interpreter 下拉菜单选择Show All…  点击add -&gt; on docker 在这一步可以选择构建好的image和选择dockerfile让pycharm来帮助构建镜像</p><p><img src="https://cdn.jsdelivr.net/gh/redballoom/my-pic@main/imgs/image-20240622184504677.png" alt="image-20240622184504677"></p><p>之后下一步就能看到容器中环境：</p><p><img src="https://cdn.jsdelivr.net/gh/redballoom/my-pic@main/imgs/image-20240622184602710.png" alt="image-20240622184602710"></p><p>到此就大功告成了。</p><h2 id="效果："><a href="#效果：" class="headerlink" title="效果："></a>效果：</h2><p><img src="https://cdn.jsdelivr.net/gh/redballoom/my-pic@main/imgs/image-20240622184948824.png" alt="image-20240622184948824"></p><p>可以看到我们执行js的代码也是没有问题的，因为在自定义的镜像中添加了nodejs。</p>]]></content>
    
    
    <categories>
      
      <category>Docker</category>
      
    </categories>
    
    
    <tags>
      
      <tag>docker</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>迁移wsl子系统后报错的解决方法</title>
    <link href="/posts/%E8%BF%81%E7%A7%BBwsl%E5%AD%90%E7%B3%BB%E7%BB%9F%E5%90%8E%E6%8A%A5%E9%94%99%E7%9A%84%E8%A7%A3%E5%86%B3%E6%96%B9%E6%B3%95/"/>
    <url>/posts/%E8%BF%81%E7%A7%BBwsl%E5%AD%90%E7%B3%BB%E7%BB%9F%E5%90%8E%E6%8A%A5%E9%94%99%E7%9A%84%E8%A7%A3%E5%86%B3%E6%96%B9%E6%B3%95/</url>
    
    <content type="html"><![CDATA[<h2 id="简介"><a href="#简介" class="headerlink" title="简介"></a>简介</h2><p>迁移wsl的博客地址：<a href="https://blog.csdn.net/weixin_58045467/article/details/124301843">https://blog.csdn.net/weixin_58045467/article/details/124301843</a></p><p><strong>我是没有执行这一步的，因为执行不了</strong></p><figure class="highlight cmd"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs cmd">ubuntu1804.exe config --default-user vincent<br></code></pre></td></tr></table></figure><p>事情的起因是因为我的C盘容量低于30GB了，我就想是不是这个子系统占了位置，刚好能找到相关迁移的博客帖子，看了一篇比较靠谱的就操作起来，谁知道后面就报奇怪的错误：</p><figure class="highlight apache"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br></pre></td><td class="code"><pre><code class="hljs apache"><span class="hljs-section">&lt;3&gt;</span><span class="hljs-attribute">WSL</span> (<span class="hljs-number">11</span>) ERROR: CreateProcessParseCommon:<span class="hljs-number">711</span>: Failed to translate C:\Users\<span class="hljs-number">20832</span><br><span class="hljs-section">&lt;3&gt;</span><span class="hljs-attribute">WSL</span> (<span class="hljs-number">11</span>) ERROR: CreateProcessParseCommon:<span class="hljs-number">757</span>: getpwuid(<span class="hljs-number">0</span>) failed <span class="hljs-number">2</span><br><span class="hljs-section">&lt;3&gt;</span><span class="hljs-attribute">WSL</span> (<span class="hljs-number">11</span>) ERROR: UtilTranslatePathList:<span class="hljs-number">2866</span>: Failed to translate C:\Users\<span class="hljs-number">20832</span>\bin<br><span class="hljs-section">&lt;3&gt;</span><span class="hljs-attribute">WSL</span> (<span class="hljs-number">11</span>) ERROR: UtilTranslatePathList:<span class="hljs-number">2866</span>: Failed to translate D:\Softwares\Git\mingw64\bin<br><span class="hljs-section">&lt;3&gt;</span><span class="hljs-attribute">WSL</span> (<span class="hljs-number">11</span>) ERROR: UtilTranslatePathList:<span class="hljs-number">2866</span>: Failed to translate D:\Softwares\Git\usr\local\bin<br><span class="hljs-section">&lt;3&gt;</span><span class="hljs-attribute">WSL</span> (<span class="hljs-number">11</span>) ERROR: UtilTranslatePathList:<span class="hljs-number">2866</span>: Failed to translate D:\Softwares\Git\usr\bin<br><span class="hljs-section">&lt;3&gt;</span><span class="hljs-attribute">WSL</span> (<span class="hljs-number">11</span>) ERROR: UtilTranslatePathList:<span class="hljs-number">2866</span>: Failed to translate D:\Softwares\Git\usr\bin<br><span class="hljs-section">&lt;3&gt;</span><span class="hljs-attribute">WSL</span> (<span class="hljs-number">11</span>) ERROR: UtilTranslatePathList:<span class="hljs-number">2866</span>: Failed to translate D:\Softwares\Git\mingw64\bin<br><span class="hljs-section">&lt;3&gt;</span><span class="hljs-attribute">WSL</span> (<span class="hljs-number">11</span>) ERROR: UtilTranslatePathList:<span class="hljs-number">2866</span>: Failed to translate D:\Softwares\Git\usr\bin<br><span class="hljs-section">&lt;3&gt;</span><span class="hljs-attribute">WSL</span> (<span class="hljs-number">11</span>) ERROR: UtilTranslatePathList:<span class="hljs-number">2866</span>: Failed to translate C:\Users\<span class="hljs-number">20832</span>\bin<br><span class="hljs-section">&lt;3&gt;</span><span class="hljs-attribute">WSL</span> (<span class="hljs-number">11</span>) ERROR: UtilTranslatePathList:<span class="hljs-number">2866</span>: Failed to translate C:\Windows<br><span class="hljs-section">&lt;3&gt;</span><span class="hljs-attribute">WSL</span> (<span class="hljs-number">11</span>) ERROR: UtilTranslatePathList:<span class="hljs-number">2866</span>: Failed to translate C:\Windows\system32<br><span class="hljs-section">&lt;3&gt;</span><span class="hljs-attribute">WSL</span> (<span class="hljs-number">11</span>) ERROR: UtilTranslatePathList:<span class="hljs-number">2866</span>: Failed to translate C:\Windows\System32\Wbem<br><span class="hljs-section">&lt;3&gt;</span><span class="hljs-attribute">WSL</span> (<span class="hljs-number">11</span>) ERROR: UtilTranslatePathList:<span class="hljs-number">2866</span>: Failed to translate C:\Windows\System32\WindowsPowerShell\v1.<span class="hljs-number">0</span><br><span class="hljs-section">&lt;3&gt;</span><span class="hljs-attribute">WSL</span> (<span class="hljs-number">11</span>) ERROR: UtilTranslatePathList:<span class="hljs-number">2866</span>: Failed to translate C:\Windows\System32\OpenSSH<br><span class="hljs-section">&lt;3&gt;</span><span class="hljs-attribute">WSL</span> (<span class="hljs-number">11</span>) ERROR: UtilTranslatePathList:<span class="hljs-number">2866</span>: Failed to translate C:\WINDOWS<br><span class="hljs-section">&lt;3&gt;</span><span class="hljs-attribute">WSL</span> (<span class="hljs-number">11</span>) ERROR: UtilTranslatePathList:<span class="hljs-number">2866</span>: Failed to translate C:\WINDOWS\system32<br><span class="hljs-section">&lt;3&gt;</span><span class="hljs-attribute">WSL</span> (<span class="hljs-number">11</span>) ERROR: UtilTranslatePathList:<span class="hljs-number">2866</span>: Failed to translate C:\WINDOWS\System32\Wbem<br><span class="hljs-section">&lt;3&gt;</span><span class="hljs-attribute">WSL</span> (<span class="hljs-number">11</span>) ERROR: UtilTranslatePathList:<span class="hljs-number">2866</span>: Failed to translate C:\WINDOWS\System32\WindowsPowerShell\v1.<span class="hljs-number">0</span><br><span class="hljs-section">&lt;3&gt;</span><span class="hljs-attribute">WSL</span> (<span class="hljs-number">11</span>) ERROR: UtilTranslatePathList:<span class="hljs-number">2866</span>: Failed to translate C:\WINDOWS\System32\OpenSSH<br><span class="hljs-section">&lt;3&gt;</span><span class="hljs-attribute">WSL</span> (<span class="hljs-number">11</span>) ERROR: UtilTranslatePathList:<span class="hljs-number">2866</span>: Failed to translate C:\Program Files\dotnet<br><span class="hljs-section">&lt;3&gt;</span><span class="hljs-attribute">WSL</span> (<span class="hljs-number">11</span>) ERROR: UtilTranslatePathList:<span class="hljs-number">2866</span>: Failed to translate C:\Program Files\NVIDIA Corporation\NVIDIA NvDLISR<br><span class="hljs-section">&lt;3&gt;</span><span class="hljs-attribute">WSL</span> (<span class="hljs-number">11</span>) ERROR: UtilTranslatePathList:<span class="hljs-number">2866</span>: Failed to translate C:\Program Files\Docker\Docker\resources\bin<br><span class="hljs-section">&lt;3&gt;</span><span class="hljs-attribute">WSL</span> (<span class="hljs-number">11</span>) ERROR: UtilTranslatePathList:<span class="hljs-number">2866</span>: Failed to translate D:\Softwares\ShadowBot<br><span class="hljs-section">&lt;3&gt;</span><span class="hljs-attribute">WSL</span> (<span class="hljs-number">11</span>) ERROR: UtilTranslatePathList:<span class="hljs-number">2866</span>: Failed to translate D:\Softwares\XFtp<br><span class="hljs-section">&lt;3&gt;</span><span class="hljs-attribute">WSL</span> (<span class="hljs-number">11</span>) ERROR: UtilTranslatePathList:<span class="hljs-number">2866</span>: Failed to translate D:\Softwares\Git\cmd<br><span class="hljs-section">&lt;3&gt;</span><span class="hljs-attribute">WSL</span> (<span class="hljs-number">11</span>) ERROR: UtilTranslatePathList:<span class="hljs-number">2866</span>: Failed to translate E:\pythonEnvs<br><span class="hljs-section">&lt;3&gt;</span><span class="hljs-attribute">WSL</span> (<span class="hljs-number">11</span>) ERROR: UtilTranslatePathList:<span class="hljs-number">2866</span>: Failed to translate D:\myNodejs\nvm<br><span class="hljs-section">&lt;3&gt;</span><span class="hljs-attribute">WSL</span> (<span class="hljs-number">11</span>) ERROR: UtilTranslatePathList:<span class="hljs-number">2866</span>: Failed to translate D:\myNodejs\nodejs<br><span class="hljs-section">&lt;3&gt;</span><span class="hljs-attribute">WSL</span> (<span class="hljs-number">11</span>) ERROR: UtilTranslatePathList:<span class="hljs-number">2866</span>: Failed to translate D:\myNodejs\nodejs\node_global<br><span class="hljs-section">&lt;3&gt;</span><span class="hljs-attribute">WSL</span> (<span class="hljs-number">11</span>) ERROR: UtilTranslatePathList:<span class="hljs-number">2866</span>: Failed to translate C:\Users\<span class="hljs-number">20832</span>\pip\pip.ini<br><span class="hljs-section">&lt;3&gt;</span><span class="hljs-attribute">WSL</span> (<span class="hljs-number">11</span>) ERROR: UtilTranslatePathList:<span class="hljs-number">2866</span>: Failed to translate D:\python3.<span class="hljs-number">10</span>.<span class="hljs-number">10</span><br><span class="hljs-section">&lt;3&gt;</span><span class="hljs-attribute">WSL</span> (<span class="hljs-number">11</span>) ERROR: UtilTranslatePathList:<span class="hljs-number">2866</span>: Failed to translate D:\python3.<span class="hljs-number">10</span>.<span class="hljs-number">10</span>\Scripts<br><span class="hljs-section">&lt;3&gt;</span><span class="hljs-attribute">WSL</span> (<span class="hljs-number">11</span>) ERROR: UtilTranslatePathList:<span class="hljs-number">2866</span>: Failed to translate D:\Softwares\ShadowBot<br><span class="hljs-section">&lt;3&gt;</span><span class="hljs-attribute">WSL</span> (<span class="hljs-number">11</span>) ERROR: UtilTranslatePathList:<span class="hljs-number">2866</span>: Failed to translate D:\mongoshall<br><span class="hljs-section">&lt;3&gt;</span><span class="hljs-attribute">WSL</span> (<span class="hljs-number">11</span>) ERROR: UtilTranslatePathList:<span class="hljs-number">2866</span>: Failed to translate D:\mongodb-windows-x86_64-<span class="hljs-number">7</span>.<span class="hljs-number">0</span>.<span class="hljs-number">7</span>\bin<br><span class="hljs-section">&lt;3&gt;</span><span class="hljs-attribute">WSL</span> (<span class="hljs-number">11</span>) ERROR: UtilTranslatePathList:<span class="hljs-number">2866</span>: Failed to translate D:\mysql-<span class="hljs-number">5</span>.<span class="hljs-number">7</span>.<span class="hljs-number">38</span>-winx64\bin<br><span class="hljs-section">&lt;3&gt;</span><span class="hljs-attribute">WSL</span> (<span class="hljs-number">11</span>) ERROR: UtilTranslatePathList:<span class="hljs-number">2866</span>: Failed to translate D:\Softwares\pyCharm\PyCharm <span class="hljs-number">2024</span>.<span class="hljs-number">1</span>.<span class="hljs-number">2</span>\bin<br><span class="hljs-section">&lt;3&gt;</span><span class="hljs-attribute">WSL</span> (<span class="hljs-number">11</span>) ERROR: UtilTranslatePathList:<span class="hljs-number">2866</span>: Failed to translate D:\Softwares\Microsoft VS Code\bin<br><span class="hljs-section">&lt;3&gt;</span><span class="hljs-attribute">WSL</span> (<span class="hljs-number">11</span>) ERROR: UtilTranslatePathList:<span class="hljs-number">2866</span>: Failed to translate D:\ffmpeg-<span class="hljs-number">6</span>.<span class="hljs-number">0</span>-essentials_build\bin<br><span class="hljs-section">&lt;3&gt;</span><span class="hljs-attribute">WSL</span> (<span class="hljs-number">11</span>) ERROR: UtilTranslatePathList:<span class="hljs-number">2866</span>: Failed to translate D:\pandoc\pandoc-<span class="hljs-number">3.1.12.1</span><br><span class="hljs-section">&lt;3&gt;</span><span class="hljs-attribute">WSL</span> (<span class="hljs-number">11</span>) ERROR: UtilTranslatePathList:<span class="hljs-number">2866</span>: Failed to translate D:\TeXLive\texlive\<span class="hljs-number">2023</span>\bin\windows<br><span class="hljs-section">&lt;3&gt;</span><span class="hljs-attribute">WSL</span> (<span class="hljs-number">11</span>) ERROR: UtilTranslatePathList:<span class="hljs-number">2866</span>: Failed to translate D:\Softwares\Fiddler<br><span class="hljs-section">&lt;3&gt;</span><span class="hljs-attribute">WSL</span> (<span class="hljs-number">11</span>) ERROR: UtilTranslatePathList:<span class="hljs-number">2866</span>: Failed to translate D:\myNodejs\nvm<br><span class="hljs-section">&lt;3&gt;</span><span class="hljs-attribute">WSL</span> (<span class="hljs-number">11</span>) ERROR: UtilTranslatePathList:<span class="hljs-number">2866</span>: Failed to translate D:\myNodejs\nodejs<br><span class="hljs-section">&lt;3&gt;</span><span class="hljs-attribute">WSL</span> (<span class="hljs-number">11</span>) ERROR: UtilTranslatePathList:<span class="hljs-number">2866</span>: Failed to translate D:\myNodejs\nodejs\node_global<br><span class="hljs-section">&lt;3&gt;</span><span class="hljs-attribute">WSL</span> (<span class="hljs-number">11</span>) ERROR: UtilTranslatePathList:<span class="hljs-number">2866</span>: Failed to translate D:\Softwares\Git\usr\bin\vendor_perl<br><span class="hljs-section">&lt;3&gt;</span><span class="hljs-attribute">WSL</span> (<span class="hljs-number">11</span>) ERROR: UtilTranslatePathList:<span class="hljs-number">2866</span>: Failed to translate D:\Softwares\Git\usr\bin\core_perl<br><span class="hljs-attribute">Processing</span> fstab with mount -a failed.<br><span class="hljs-attribute">Failed</span> to mount C:\, see dmesg for more details.<br><span class="hljs-attribute">Failed</span> to mount D:\, see dmesg for more details.<br><span class="hljs-attribute">Failed</span> to mount E:\, see dmesg for more details.<br><br><span class="hljs-section">&lt;3&gt;</span><span class="hljs-attribute">WSL</span> (<span class="hljs-number">11</span>) ERROR: CreateProcessEntryCommon:<span class="hljs-number">334</span>: getpwuid(<span class="hljs-number">0</span>) failed <span class="hljs-number">2</span><br><span class="hljs-section">&lt;3&gt;</span><span class="hljs-attribute">WSL</span> (<span class="hljs-number">11</span>) ERROR: CreateProcessEntryCommon:<span class="hljs-number">505</span>: execvpe /bin/sh failed <span class="hljs-number">2</span><br><span class="hljs-section">&lt;3&gt;</span><span class="hljs-attribute">WSL</span> (<span class="hljs-number">11</span>) ERROR: CreateProcessEntryCommon:<span class="hljs-number">508</span>: Create process not expected to return<br></code></pre></td></tr></table></figure><h2 id="我的配置文件设置"><a href="#我的配置文件设置" class="headerlink" title="我的配置文件设置"></a>我的配置文件设置</h2><p>wsl的<code>wsl.conf</code>  其位置在：&#x2F;etc&#x2F;wsl.conf</p><figure class="highlight ini"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs ini"><span class="hljs-section">[user]</span><br><span class="hljs-attr">default</span> = redballoon<br><br><span class="hljs-section">[boot]</span><br><span class="hljs-attr">systemd</span>=<span class="hljs-literal">true</span><br><br><span class="hljs-section">[network]</span><br><span class="hljs-attr">hostname</span>=Ubuntu<br><span class="hljs-attr">generateHost</span>=<span class="hljs-literal">false</span><br><span class="hljs-attr">generateResolvConf</span> = <span class="hljs-literal">false</span><br><br><span class="hljs-section">[interop]</span><br><span class="hljs-attr">enabled</span> = <span class="hljs-literal">false</span><br><span class="hljs-attr">appendWindowsPath</span>=<span class="hljs-literal">false</span><br></code></pre></td></tr></table></figure><p>wsl的<code>.wslconfig</code>文件的配置，其位置在：C:\Users\User</p><p>这个配置文件是默认不存在的，需要自己手动添加</p><figure class="highlight ini"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><code class="hljs ini"><span class="hljs-comment"># Settings apply across all Linux distros running on WSL 2</span><br><span class="hljs-section">[wsl2]</span><br><br><span class="hljs-comment"># Limits VM memory to use no more than 4 GB, this can be set as whole numbers using GB or MB</span><br><span class="hljs-attr">memory</span>=<span class="hljs-number">8</span>GB<br><span class="hljs-attr">swap</span>=<span class="hljs-number">2</span>GB<br><span class="hljs-comment"># Sets the VM to use two virtual processors</span><br><span class="hljs-attr">processors</span>=<span class="hljs-number">2</span><br><br><br><span class="hljs-section">[experimental]</span><br><span class="hljs-attr">autoMemoryReclaim</span>=dropcache<br><span class="hljs-attr">networkingMode</span>=mirrored<br><span class="hljs-attr">dnsTunneling</span>=<span class="hljs-literal">true</span><br><span class="hljs-attr">firewall</span>=<span class="hljs-literal">true</span><br><span class="hljs-attr">autoProxy</span>=<span class="hljs-literal">true</span><br></code></pre></td></tr></table></figure><p>这两个文件的配置都可以在微软的官网找到。</p><h2 id="解决方法"><a href="#解决方法" class="headerlink" title="解决方法"></a>解决方法</h2><p>找了半天后，看到一篇文章，是让我使用<code>wsl -d Ubuntu-22.04</code>命令来进入系统，虽然这样是成功了，可在迁移系统前都是使用wsl就进入了，这样才符合我的预期。</p><p>于是有了接下来的步骤，如果你是卡在这一步，按我的方法就可以改回来。</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs bash">~ $ wsl -l -v<br>  NAME                   STATE           VERSION<br>* Ubuntu-22.04           Stopped         2<br><br>~ $ wsl --set-default-version 2<br>有关与 WSL 2 关键区别的信息，请访问 https://aka.ms/wsl2<br><br>操作成功完成。<br><br>~ $ wsl --set-default Ubuntu-22.04<br>操作成功完成。<br></code></pre></td></tr></table></figure><p>我是在Git Bash上进行操作的，如果你用的是cmd 或 powershell是一样的操作。</p>]]></content>
    
    
    <categories>
      
      <category>其他</category>
      
    </categories>
    
    
    <tags>
      
      <tag>wsl</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>在Windows Terminal和VS Code中配置GitBas为终端</title>
    <link href="/posts/%E5%9C%A8Windows-Terminal%E5%92%8CVS-Code%E4%B8%AD%E9%85%8D%E7%BD%AEGitBas%E4%B8%BA%E7%BB%88%E7%AB%AF/"/>
    <url>/posts/%E5%9C%A8Windows-Terminal%E5%92%8CVS-Code%E4%B8%AD%E9%85%8D%E7%BD%AEGitBas%E4%B8%BA%E7%BB%88%E7%AB%AF/</url>
    
    <content type="html"><![CDATA[<h2 id="简介"><a href="#简介" class="headerlink" title="简介"></a>简介</h2><p>在使用Windows的PowerShell或cmd时，远不如linux的命令来的优雅、方便，而且比较windows的命令，我更熟悉linux。</p><p>于是有了把终端都换成linux命令环境，刚好我也下载了Git，配置一番便能在Terminal中使用git bash的环境。</p><p>在一般情况下我们使用git bash作为终端是没问题的，但在处理windows的特殊情况时，我们还是需要切换回PowerShell或cmd的。</p><h2 id="在Terminal中配置"><a href="#在Terminal中配置" class="headerlink" title="在Terminal中配置"></a>在Terminal中配置</h2><p><img src="https://cdn.jsdelivr.net/gh/redballoom/my-pic@main/imgs/image-20240519013546432.png" alt="image-20240519013546432"></p><p>仅仅如此，还不够美观，我在网上找到了相关配置，可以美化我们的界面</p><p>关键秘诀就是需要配置<code>.bash_profile</code>文件，在你的用户目录下，创建文件<code>~/.bash_profile</code>，填入以下内容：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-comment"># Shows Git branch name in prompt.</span><br><span class="hljs-function"><span class="hljs-title">parse_git_branch</span></span>() &#123;<br>  git branch 2&gt; /dev/null | sed -e <span class="hljs-string">&#x27;/^[^*]/d&#x27;</span> -e <span class="hljs-string">&#x27;s/* \(.*\)/ (\1)/&#x27;</span><br>&#125;<br><br>COLOR_BLUE=<span class="hljs-string">&quot;\[\033[0;34m\]&quot;</span><br>COLOR_GREEN=<span class="hljs-string">&quot;\[\033[0;32m\]&quot;</span><br>COLOR_RESET=<span class="hljs-string">&quot;\[\033[0m\]&quot;</span><br><br><span class="hljs-comment"># 显示 用户 @ 主机</span><br><span class="hljs-comment"># export PS1=&quot;$COLOR_BLUE\u@\h $COLOR_GREEN\W\$(parse_git_branch)$COLOR_RESET $ &quot;</span><br><br><span class="hljs-comment"># 隐藏用户 @ 主机，显示当前文件夹 </span><br><span class="hljs-comment">#export PS1=&quot;$COLOR_GREEN\W\$(parse_git_branch)$COLOR_RESET &quot;</span><br><br><span class="hljs-comment"># 只显示当前文件夹</span><br><span class="hljs-built_in">export</span> PS1=<span class="hljs-string">&quot;<span class="hljs-variable">$COLOR_GREEN</span>\W <span class="hljs-variable">$COLOR_RESET</span>\$(parse_git_branch)$ &quot;</span><br><br><span class="hljs-comment"># 显示全路径</span><br><span class="hljs-comment">#export PS1=&quot;$COLOR_GREEN\w $COLOR_RESET\$(parse_git_branch)$ &quot;</span><br></code></pre></td></tr></table></figure><h2 id="在VSCode中配置"><a href="#在VSCode中配置" class="headerlink" title="在VSCode中配置"></a>在VSCode中配置</h2><p>在网上搜索后，我找到一大推都是要填入配置啥啥的，虽不麻烦，但使用效果远不如我们在Terminal中的配置优雅，而我们在配置了<strong>Terminal</strong>后，只需要设置一个地方即可。</p><p><img src="https://cdn.jsdelivr.net/gh/redballoom/my-pic@main/imgs/image-20240519014841727.png" alt="image-20240519014841727"></p><p><img src="https://cdn.jsdelivr.net/gh/redballoom/my-pic@main/imgs/image-20240519015031464.png" alt="image-20240519015031464"></p><h2 id="配置运行结果"><a href="#配置运行结果" class="headerlink" title="配置运行结果"></a>配置运行结果</h2><p><img src="https://cdn.jsdelivr.net/gh/redballoom/my-pic@main/imgs/image-20240519015141192.png" alt="image-20240519015141192"></p><p><img src="https://cdn.jsdelivr.net/gh/redballoom/my-pic@main/imgs/image-20240519015217322.png" alt="image-20240519015217322"></p>]]></content>
    
    
    <categories>
      
      <category>其他</category>
      
    </categories>
    
    
    <tags>
      
      <tag>config</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>极简壁纸逆向分析</title>
    <link href="/posts/%E6%9E%81%E7%AE%80%E5%A3%81%E7%BA%B8%E9%80%86%E5%90%91%E5%88%86%E6%9E%90/"/>
    <url>/posts/%E6%9E%81%E7%AE%80%E5%A3%81%E7%BA%B8%E9%80%86%E5%90%91%E5%88%86%E6%9E%90/</url>
    
    <content type="html"><![CDATA[<h2 id="简介"><a href="#简介" class="headerlink" title="简介"></a>简介</h2><p>目标网站是一个质量不错的壁纸网站，对于新手想要获取它的壁纸可能有些难度，但只要掌握方法，其实也不难。可以将此网站当作逆向入门案例来学习。</p><p>在学习的同时我们要注意请求的频率，不要给对方网站造成太大压力。</p><h2 id="逆向分析"><a href="#逆向分析" class="headerlink" title="逆向分析"></a>逆向分析</h2><h3 id="第一步："><a href="#第一步：" class="headerlink" title="第一步："></a>第一步：</h3><p>判断目标网站的性质：是否为动态</p><p>确定壁纸数据接口地址：<code>getData</code></p><p>首先，打开开发者工具的<code>XHR</code>，点击下一页，发现其新增了一行<code>getData</code>，通过此方法就可以判断其为动态加载的网页。</p><p><img src="https://cdn.jsdelivr.net/gh/redballoom/my-pic@main/imgs/image-20240520015057831.png" alt="image-20240520015057831"></p><h3 id="第二步："><a href="#第二步：" class="headerlink" title="第二步："></a>第二步：</h3><p>分析壁纸图片的地址、构成，确定我们要的完整的壁纸url。</p><p><img src="https://cdn.jsdelivr.net/gh/redballoom/my-pic@main/imgs/image-20240520014141929.png" alt="image-20240520014141929"></p><p>或者点击下载按钮，查看下载图片url信息。</p><p><img src="https://cdn.jsdelivr.net/gh/redballoom/my-pic@main/imgs/image-20240520014500981.png" alt="image-20240520014500981"></p><p>随便看几个就行了，此时我们就知道构建完整壁纸url的方式，现在只要获取到getUrl&#x2F; 后面的参数，也就是我们解密后的i值，就算完成了逆向。</p><h3 id="第三步："><a href="#第三步：" class="headerlink" title="第三步："></a>第三步：</h3><p>现在就开始我们逆向的分析：</p><ol><li>定位加密数据的位置：<ul><li>通常可以尝试直接搜索result</li><li>也可以通过XHR断点的方法</li></ul></li><li>定位到其解密代码的位置</li><li>扣代码，补环境</li></ol><p>步骤：</p><p><img src="https://cdn.jsdelivr.net/gh/redballoom/my-pic@main/imgs/image-20240520020526951.png" alt="image-20240520020526951"></p><p><img src="https://cdn.jsdelivr.net/gh/redballoom/my-pic@main/imgs/image-20240520021059167.png" alt="image-20240520021059167"></p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs javascript">_0x20bc0a || <span class="hljs-number">0x0</span> != _0x34c329[<span class="hljs-string">&#x27;data&#x27;</span>][<span class="hljs-string">&#x27;code&#x27;</span>] || (_0x34c329[<span class="hljs-string">&#x27;data&#x27;</span>][<span class="hljs-string">&#x27;result&#x27;</span>] = <span class="hljs-title class_">JSON</span>[<span class="hljs-string">&#x27;parse&#x27;</span>](_0x4eb005[<span class="hljs-string">&#x27;a&#x27;</span>][<span class="hljs-string">&#x27;decipher&#x27;</span>](_0x34c329[<span class="hljs-string">&#x27;data&#x27;</span>][<span class="hljs-string">&#x27;result&#x27;</span>])))<br><br>我们把鼠标放在_0x20bc0a上时，其是 <span class="hljs-literal">undefined</span>;<br><span class="hljs-number">0x0</span> != _0x34c329[<span class="hljs-string">&#x27;data&#x27;</span>][<span class="hljs-string">&#x27;code&#x27;</span>] 其是 <span class="hljs-literal">false</span>;<br><br>所以最后可看成 <span class="hljs-literal">false</span> || <span class="hljs-literal">false</span> || (_0x34c329[<span class="hljs-string">&#x27;data&#x27;</span>][<span class="hljs-string">&#x27;result&#x27;</span>] = <span class="hljs-title class_">JSON</span>[<span class="hljs-string">&#x27;parse&#x27;</span>](_0x4eb005[<span class="hljs-string">&#x27;a&#x27;</span>][<span class="hljs-string">&#x27;decipher&#x27;</span>](_0x34c329[<span class="hljs-string">&#x27;data&#x27;</span>][<span class="hljs-string">&#x27;result&#x27;</span>])))<br><br>在控制台中我们分别查看 _0x34c329[<span class="hljs-string">&#x27;data&#x27;</span>][<span class="hljs-string">&#x27;result&#x27;</span>] 和 <span class="hljs-title class_">JSON</span>[<span class="hljs-string">&#x27;parse&#x27;</span>](_0x4eb005[<span class="hljs-string">&#x27;a&#x27;</span>][<span class="hljs-string">&#x27;decipher&#x27;</span>](_0x34c329[<span class="hljs-string">&#x27;data&#x27;</span>][<span class="hljs-string">&#x27;result&#x27;</span>]))<br></code></pre></td></tr></table></figure><p><img src="https://cdn.jsdelivr.net/gh/redballoom/my-pic@main/imgs/image-20240520024619724.png" alt="image-20240520024619724"></p><p><img src="https://cdn.jsdelivr.net/gh/redballoom/my-pic@main/imgs/image-20240520024647787.png" alt="image-20240520024647787"></p><p><strong>扣代码：</strong></p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">function</span> <span class="hljs-title function_">_0x1e5a5f</span>(<span class="hljs-params">_0x5ef2e8</span>) &#123;<br>    <span class="hljs-keyword">return</span> <span class="hljs-title function_">_0x1fe0d3</span>(<span class="hljs-title function_">_0x587757</span>(<span class="hljs-title function_">_0x188e18</span>(_0x5ef2e8)));<br>&#125;<br></code></pre></td></tr></table></figure><p>最后将代码补全即可完成。注意在最后有一个报错：<code>window is not defined</code> 这是因为在node环境并没有window这个对象，解决方法只需要在文件顶部添加 <code>window = global</code>。</p><h2 id="运行结果"><a href="#运行结果" class="headerlink" title="运行结果"></a>运行结果</h2><p><img src="https://cdn.jsdelivr.net/gh/redballoom/my-pic@main/imgs/image-20240520024401592.png" alt="image-20240520024401592"></p>]]></content>
    
    
    <categories>
      
      <category>JS逆向</category>
      
    </categories>
    
    
    <tags>
      
      <tag>js逆向</tag>
      
    </tags>
    
  </entry>
  
  
  
  
</search>
